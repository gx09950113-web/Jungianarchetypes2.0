<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <meta name="theme-color" content="#2563eb" />
  <title>基礎 32 題｜榮格八維自測</title>
  <link rel="stylesheet" href="./assets/css/style.css" />
</head>
<body>
  <noscript>本頁需要啟用 JavaScript 才能作答。</noscript>

  <header class="container">
    <h1 class="title">基礎測驗（32 題）</h1>
    <p class="muted small">題目僅顯示敘述，不會揭露對應的心理功能。</p>
  </header>

  <main class="container stack-lg" data-testid="basic-root">
    <!-- 系統訊息（載入／錯誤） -->
    <section class="card" id="sysmsg" hidden>
      <p class="muted" id="sysmsg-text">載入中…</p>
    </section>

    <!-- 進度 -->
    <section class="card">
      <div class="progress-row">
        <div class="progress-label">
          <strong id="counter" aria-live="polite">第 1 / 32 題</strong>
        </div>
        <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="32" aria-valuenow="0">
          <span id="progress" style="--pct:0%"></span>
        </div>
      </div>
    </section>

    <!-- 題目 -->
    <section class="card">
      <h2 class="section-title">題目</h2>
      <div id="question" class="question" data-testid="question" aria-live="polite"></div>
    </section>

    <!-- Likert 量表 -->
    <section class="card">
      <h2 class="section-title">你的選擇</h2>
      <form id="form" class="likert-form" data-testid="likert-form">
        <div id="likert-wrap" class="likert-wrap"></div>
      </form>
    </section>

    <!-- 導航 -->
    <section class="card actions" aria-label="操作">
      <div class="btn-row">
        <button id="btn-prev" class="btn btn-ghost" type="button" data-testid="btn-prev" disabled>上一題</button>
        <button id="btn-next" class="btn" type="button" data-testid="btn-next" disabled>下一題</button>
        <button id="btn-submit" class="btn" type="button" data-testid="btn-submit" disabled>提交</button>
      </div>
      <p id="nav-hint" class="muted small">作答後可切換上一題/下一題；全部作答完成後方可提交。</p>
    </section>

    <!-- 可選：提交前確認 -->
    <dialog id="confirm-dialog">
      <form method="dialog" class="stack">
        <p>確定要提交嗎？提交後將保存此次作答並前往結果頁。</p>
        <div class="btn-row">
          <button value="cancel" class="btn btn-ghost">取消</button>
          <button value="ok" class="btn">確認提交</button>
        </div>
      </form>
    </dialog>
  </main>

  <!-- 把入口腳本放在最底，避免任何 DOM 時序問題 -->
  <script type="module" src="./assets/js/app-basic.js"></script>
</body>
</html>